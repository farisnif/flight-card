<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Put your description here.">
  <base href="/">

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #ededed;
    }
  </style>
  <title>flight-card</title>
</head>

<body>
  <div class="buttons">
    <button class="somethingelse">Something Else</button>
    <button class="addOne">Add</button>
    <button class="colorChanger">Color Changer</button>
    <button class="remove">Delete One</button>
  </div>
    <flight-card></flight-card>

  <script type="module" src="./src/flight-card.js"></script>
  <script>
    document.querySelector(".somethingelse").addEventListener("click", function changeHeading(e) {
    document.querySelector('flight-card').shadowRoot.querySelector("h1").innerHTML = "something else";
  });

document.querySelector(".addOne").addEventListener("click", function addCard(e) {
    const cardWhole = document.querySelector('flight-card').cloneNode(true);
    document.body.appendChild(cardWhole);
  });

document.querySelector(".remove").addEventListener("click", function removeCard(e) {
    const cardWhole = document.querySelector('flight-card').parentNode;
    cardWhole.removeChild(cardWhole.lastChild); //for some reason if I keep spamming delete one button it eventually deletes the final card
  });

document.querySelector(".colorChanger").addEventListener("click", function changeColor(e) {
    const div = document.querySelector('flight-card').shadowRoot.querySelector('.crd'); 
    if (div.style.backgroundColor != "red") {
      div.style.backgroundColor = "red";
    } else {
      div.style.backgroundColor = "skyblue";
    }
  });

document.querySelector('flight-card').shadowRoot.querySelector(".details").addEventListener("click", function textVisibility(e) { //not working
  const info = document.querySelector('flight-card').shadowRoot.querySelector("p"); //it is finding the paragraph in console, meme-maker is not blocking it
    if (info.style.display === "none") {
      info.style.display = "block";
    } else {
      info.style.display = "none";
    }
  });
  </script>
</body>

</html>